# 美食喜欢功能说明

## 功能简介
用户可以长按任意美食格子来标记喜欢该美食种类，被喜欢的美食种类在转盘选择时会有30%的概率被优先选中。

## 功能特点

### 1. 长按交互
- 长按任意美食格子可以切换喜欢/不喜欢状态
- 长按时会有震动反馈提醒用户操作成功
- 会显示相应的提示消息

### 2. 视觉效果
- 喜欢的美食格子右上角会显示红心❤️图标
- 红心有漂亮的缩放和跳动动画效果
- 支持平滑的显示/隐藏过渡动画

### 3. 概率提升
- 被喜欢的美食种类有30%的概率被优先选中
- 如果没有喜欢的美食或30%概率未触发，则使用普通随机选择
- 概率计算在每次转盘开始时进行

### 4. 数据持久化
- 用户的喜欢设置会自动保存到本地存储
- 重新打开小程序时会自动恢复之前的喜欢设置
- 数据存储键为'favoriteList'

## 使用方法

1. **标记喜欢**: 长按任意美食格子，格子右上角会出现红心❤️
2. **取消喜欢**: 再次长按已喜欢的美食格子，红心会消失
3. **查看效果**: 开始转盘选择时，喜欢的美食有更高概率被选中
4. **提示信息**: 操作时会显示相应的状态提示消息

## 技术实现

### 前端部分
- **WXML**: 为每个美食格子添加了`bindlongpress`事件和红心显示元素
- **WXSS**: 添加了红心的样式和动画效果
- **JS**: 实现了喜欢状态管理、概率计算和本地存储功能

### 数据结构
```javascript
favoriteList: []  // 数组，索引对应美食格子索引，true表示喜欢
```

### 关键方法
- `toggleFavorite()`: 处理长按事件，切换喜欢状态
- `startSpin()`: 修改了随机选择逻辑，加入概率提升机制
- `onLoad()`: 页面加载时恢复喜欢设置

## 概率机制
- 如果用户有喜欢的美食种类，30%概率从喜欢的种类中随机选择
- 70%概率使用传统的完全随机选择
- 这样既增加了用户喜好的权重，又保持了游戏的随机性和趣味性 